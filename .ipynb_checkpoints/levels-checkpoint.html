<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Amiri", serif;
        }
        
 body {
    background: linear-gradient(135deg, #1a2a6c, #2a5298);
    min-height: 100vh;
    color: #3e2f1d;
}

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: linear-gradient(135deg, #5a4632, #2a5298);
            color: #fff;
            padding: 12px 16px;
            font-size: 18px;
            font-weight: bold;
            box-shadow: 0 2px 10px rgba(90, 70, 50, 0.3);
        }
        
        .back-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 20px;
            cursor: pointer;
        }

        /* Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„ÙˆØµÙ */
        .title-section {
            text-align: center;
            margin: 20px 10px;
        }
        
        .title-section h2 {
            margin: 8px 0;
            font-size: 24px;
            color: #d2b47c;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            display: inline-block;
            background: linear-gradient(135deg, #fff8e1, #f7e8c8);
            border: 1px solid #e0c97f;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 14px;
            color: #5d4a2e;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª */
        .levels-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            padding: 12px;
        }

        /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ù…Ø¹ Ø§Ù„Ø²Ø®Ø§Ø±Ù Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© */
        .level-card {
            background: linear-gradient(145deg, #f1e0b8, #e8d4a8);
            border: 5px solid #d2b47c;
            border-radius: 15px;
            padding: 15px 10px;
            text-align: center;
            color: #3e2f1d;
            font-weight: bold;
            box-shadow: 0 5px 10px rgba(0,0,0,0.15);
            position: relative;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.4s ease;
            overflow: hidden;
        }
        
        /* Ø§Ù„Ø²Ø®Ø±ÙØ© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ© */
        .level-card::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 500%;
            height: 500%;
            background: radial-gradient(circle, rgba(210, 180, 124, 0.1) 0%, transparent 200%);
            transform: rotate(45deg);
            pointer-events: none;
        }
        
        /* Ø§Ù„Ø²Ø®Ø±ÙØ© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© ÙÙŠ Ø§Ù„Ø²ÙˆØ§ÙŠØ§ */
        .level-card::after {
            content: "âœ¦";
            position: absolute;
            top: 100px;
            right: 100px;
            font-size: 12px;
            color: #d2b47c;
            opacity: 10.6;
        }
        
        .level-card .corner-decoration {
            position: absolute;
            bottom: 30px;
            left: 50px;
            font-size: 22px;
            color: #d2b47c;
            opacity: 10.6;
        }
        
        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„ØªÙ…Ø±ÙŠØ± */
        .level-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            background: linear-gradient(145deg, #f7e8c8, #f1e0b8);
            border-color: #c19a5b;
        }
        
        .level-card.locked {
            background: linear-gradient(145deg, #e0d6c0, #d4c9b1);
            border-color: #b8a98a;
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .level-card.locked:hover {
            transform: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            background: linear-gradient(145deg, #e0d6c0, #d4c9b1);
        }
        
        /* Ø±Ù‚Ù… Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ù…Ø¹ ØªØµÙ…ÙŠÙ… Ø¥Ø³Ù„Ø§Ù…ÙŠ */
        .level-number {
            font-size: 24px;
            margin-bottom: 8px;
            color: #5a4632;
            background: linear-gradient(135deg, #d2b47c, #c19a5b);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            border: 2px solid #8b6b46;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
            position: relative;
            z-index: 2;
        }
        
        .level-card.locked .level-number {
            background: linear-gradient(135deg, #b8a98a, #a8997a);
            border-color: #8a7c5f;
            color: #666;
        }
        
        /* Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø³ØªÙˆÙ‰ */
        .level-title {
            font-size: 14px;
            margin-bottom: 10px;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 2;
        }
        
        /* Ø´Ø§Ø±Ø© Ø§Ù„Ø¥ÙƒÙ…Ø§Ù„ Ù…Ø¹ ØªØµÙ…ÙŠÙ… Ø¥Ø³Ù„Ø§Ù…ÙŠ */
        .badge {
            margin-top: 8px;
            font-size: 14px;
            display: inline-block;
            padding: 4px 8px;
            border-radius: 50%;
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            position: relative;
            z-index: 2;
        }
        
        .badge.blue { 
            background: linear-gradient(135deg, #3498db, #2980b9);
        }
        
        .badge.locked { 
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
        }
        
        /* Ù†Ù‚Ø§Ø· Ø²Ø®Ø±ÙÙŠØ© Ø¥Ø³Ù„Ø§Ù…ÙŠØ© */
        .islamic-dots {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .islamic-dots .dot {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #d2b47c;
            border-radius: 50%;
            opacity: 0.4;
        }
        
        .islamic-dots .dot-1 { top: 15px; left: 15px; }
        .islamic-dots .dot-2 { top: 15px; right: 15px; }
        .islamic-dots .dot-3 { bottom: 15px; left: 15px; }
        .islamic-dots .dot-4 { bottom: 15px; right: 15px; }

        /* Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† */
        .reset-section {
            text-align: center;
            margin: 20px 10px;
            padding: 10px;
        }
        
        .reset-btn {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            border: none;
            border-radius: 25px;
            padding: 12px 25px;
            color: white;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        
        .reset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }

        /* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØµØ­ÙŠØ­ */
        .debug-info {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid #d2b47c;
            border-radius: 10px;
            padding: 10px;
            margin: 10px;
            font-size: 12px;
            color: #5a4632;
            text-align: center;
        }
    </style>
</head>
<body>

    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
    <div class="header">
        <button class="back-btn" onclick="goBack()">â†</button>
        <span>Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</span>
        <span>Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª: 12</span>
    </div>

    <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„ÙˆØµÙ -->
    <div class="title-section">
        <h2>Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</h2>
        <div class="subtitle">Ø§Ø®ØªØ± Ù…Ø³ØªÙˆÙ‰ Ù„ØªØ¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ ÙÙŠ Ø§Ù„Ø¹Ù„Ù…</div>
    </div>

    <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØµØ­ÙŠØ­ -->
    <div class="debug-info" id="debugInfo">
        Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª...
    </div>

    <!-- Ø´Ø¨ÙƒØ© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª -->
    <div class="levels-grid" id="levelsGrid">
        <!-- Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±Ø¨Øª -->
    </div>

    <!-- Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† -->
    <div class="reset-section">
        <button class="reset-btn" onclick="resetGame()">
            ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„Ø¹Ø¨Ø© (Ù„Ù„ØªØ¬Ø±Ø¨Ø©)
        </button>
    </div>

    <script>
        const levelsData = [
            { title: "Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡", number: 1 },
            { title: "Ø§Ù„Ù‚Ø±Ø¢Ù†", number: 2 },
            { title: "Ø§Ù„ÙÙ‚Ù‡", number: 3 },
            { title: "Ø§Ù„Ø³ÙŠØ±Ø©", number: 4 },
            { title: "Ø§Ù„Ø£Ø®Ù„Ø§Ù‚", number: 5 },
            { title: "Ø§Ù„ØªØ§Ø±ÙŠØ®", number: 6 },
            { title: "Ø§Ù„Ø¹Ù‚ÙŠØ¯Ø©", number: 7 },
            { title: "Ø§Ù„Ø¹Ø¨Ø§Ø¯Ø§Øª", number: 8 },
            { title: "Ø§Ù„Ù…Ø¹Ø¬Ø²Ø§Øª", number: 9 },
            { title: "Ø§Ù„ØµØ­Ø§Ø¨Ø©", number: 10 },
            { title: "Ø§Ù„Ø£Ø­Ø¯Ø§Ø«", number: 11 },
            { title: "Ø§Ù„Ø®ØªØ§Ù…", number: 12 }
        ];

        function startLevel(level) {
            console.log("Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø³ØªÙˆÙ‰: " + level);
            if (window.Android) {
                Android.startLevel(level);
            } else {
                // Ù„Ù„ØªØ¬Ø±Ø¨Ø© ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­
                console.log("Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø³ØªÙˆÙ‰: " + level);
                window.location.href = "game.html?level=" + level;
            }
        }

        function loadLevels() {
            const levelsGrid = document.getElementById('levelsGrid');
            const debugInfo = document.getElementById('debugInfo');
            
            let maxUnlocked = 1;
            if (window.Android) {
                maxUnlocked = Android.getMaxUnlockedLevel();
            }
            
            debugInfo.innerHTML = `Ø£Ù‚ØµÙ‰ Ù…Ø³ØªÙˆÙ‰ Ù…ÙØªÙˆØ­: ${maxUnlocked} | Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª: 12`;
            console.log("Ø£Ù‚ØµÙ‰ Ù…Ø³ØªÙˆÙ‰ Ù…ÙØªÙˆØ­: " + maxUnlocked);

            levelsGrid.innerHTML = '';
            
            levelsData.forEach((level, index) => {
                const levelNumber = index + 1;
                const isLocked = levelNumber > maxUnlocked;
                const isCompleted = window.Android ? Android.isLevelCompleted(levelNumber) : false;
                
                console.log(`Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${levelNumber}: Ù…Ù‚ÙÙ„=${isLocked}, Ù…ÙƒØªÙ…Ù„=${isCompleted}`);
                
                const levelCard = document.createElement('div');
                levelCard.className = `level-card ${isLocked ? 'locked' : ''}`;
                levelCard.innerHTML = `
                    <div class="islamic-dots">
                        <div class="dot dot-1"></div>
                        <div class="dot dot-2"></div>
                        <div class="dot dot-3"></div>
                        <div class="dot dot-4"></div>
                    </div>
                    <div class="level-number">${level.number}</div>
                    <div class="level-title">${level.title}</div>
                    <div class="badge ${isCompleted ? 'blue' : (isLocked ? 'locked' : '')}">
                        ${isCompleted ? 'âœ“' : (isLocked ? 'ğŸ”’' : 'â—‹')}
                    </div>
                    <div class="corner-decoration">â</div>
                `;
                
                if (!isLocked) {
                    levelCard.onclick = () => startLevel(levelNumber);
                } else {
                    levelCard.onclick = () => {
                        alert(`Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${levelNumber} Ù…Ù‚ÙÙ„! Ø£ÙƒÙ…Ù„ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${levelNumber - 1} Ø£ÙˆÙ„Ø§Ù‹.`);
                    };
                }
                
                levelsGrid.appendChild(levelCard);
            });
        }

        function resetGame() {
            console.log("Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„Ø¹Ø¨Ø©...");
            if (window.Android && Android.resetGame) {
                Android.resetGame();
            } else {
                if (confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„Ø¹Ø¨Ø©ØŸ Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚Ø¯Ù….")) {
                    localStorage.clear();
                    location.reload();
                }
            }
        }

        function goBack() {
            if (window.Android) {
                Android.goBack();
            } else {
                window.history.back();
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© ÙƒÙ„ 2 Ø«Ø§Ù†ÙŠØ© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
        function autoRefresh() {
            setTimeout(() => {
                loadLevels();
                autoRefresh();
            }, 2000);
        }

        document.addEventListener('DOMContentLoaded', function() {
            loadLevels();
            // autoRefresh(); // ÙŠÙ…ÙƒÙ† ØªÙØ¹ÙŠÙ„ Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø± Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
        });
    </script>
</body>
</html>